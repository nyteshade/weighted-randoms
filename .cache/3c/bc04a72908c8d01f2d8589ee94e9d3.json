{"id":"kLKc","dependencies":[{"name":"/Volumes/Code/Personal/JavaScript/weighted-randoms/package.json","includedInParent":true,"mtime":1654625658777},{"name":"/Volumes/Code/Personal/JavaScript/weighted-randoms/node_modules/string-width/package.json","includedInParent":true,"mtime":1654555348873},{"name":"strip-ansi","loc":{"line":2,"column":26,"index":40},"parent":"/Volumes/Code/Personal/JavaScript/weighted-randoms/node_modules/string-width/index.js","resolved":"/Volumes/Code/Personal/JavaScript/weighted-randoms/node_modules/strip-ansi/index.js"},{"name":"is-fullwidth-code-point","loc":{"line":3,"column":37,"index":92},"parent":"/Volumes/Code/Personal/JavaScript/weighted-randoms/node_modules/string-width/index.js","resolved":"/Volumes/Code/Personal/JavaScript/weighted-randoms/node_modules/is-fullwidth-code-point/index.js"},{"name":"emoji-regex","loc":{"line":4,"column":27,"index":147},"parent":"/Volumes/Code/Personal/JavaScript/weighted-randoms/node_modules/string-width/index.js","resolved":"/Volumes/Code/Personal/JavaScript/weighted-randoms/node_modules/emoji-regex/index.js"}],"generated":{"js":"\"use strict\";var e=require(\"strip-ansi\"),r=require(\"is-fullwidth-code-point\"),t=require(\"emoji-regex\")();module.exports=function(i){if(\"string\"!=typeof(i=i.replace(t,\"  \"))||0===i.length)return 0;i=e(i);for(var n=0,o=0;o<i.length;o++){var u=i.codePointAt(o);u<=31||u>=127&&u<=159||(u>=768&&u<=879||(u>65535&&o++,n+=r(u)?2:1))}return n};"},"sourceMaps":{"js":{"mappings":[{"source":"../node_modules/string-width/index.js","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"../node_modules/string-width/index.js","original":{"line":2,"column":0},"generated":{"line":1,"column":13}},{"source":"../node_modules/string-width/index.js","name":"stripAnsi","original":{"line":2,"column":6},"generated":{"line":1,"column":17}},{"source":"../node_modules/string-width/index.js","name":"require","original":{"line":2,"column":18},"generated":{"line":1,"column":19}},{"source":"../node_modules/string-width/index.js","original":{"line":2,"column":26},"generated":{"line":1,"column":27}},{"source":"../node_modules/string-width/index.js","name":"isFullwidthCodePoint","original":{"line":3,"column":6},"generated":{"line":1,"column":41}},{"source":"../node_modules/string-width/index.js","name":"require","original":{"line":3,"column":29},"generated":{"line":1,"column":43}},{"source":"../node_modules/string-width/index.js","original":{"line":3,"column":37},"generated":{"line":1,"column":51}},{"source":"../node_modules/string-width/index.js","name":"emojiRegex","original":{"line":4,"column":6},"generated":{"line":1,"column":78}},{"source":"../node_modules/string-width/index.js","name":"require","original":{"line":4,"column":19},"generated":{"line":1,"column":80}},{"source":"../node_modules/string-width/index.js","original":{"line":4,"column":27},"generated":{"line":1,"column":88}},{"source":"../node_modules/string-width/index.js","name":"require","original":{"line":4,"column":19},"generated":{"line":1,"column":102}},{"source":"../node_modules/string-width/index.js","name":"module","original":{"line":6,"column":0},"generated":{"line":1,"column":105}},{"source":"../node_modules/string-width/index.js","name":"exports","original":{"line":6,"column":7},"generated":{"line":1,"column":112}},{"source":"../node_modules/string-width/index.js","original":{"line":6,"column":17},"generated":{"line":1,"column":120}},{"source":"../node_modules/string-width/index.js","name":"input","original":{"line":6,"column":17},"generated":{"line":1,"column":129}},{"source":"../node_modules/string-width/index.js","original":{"line":9,"column":1},"generated":{"line":1,"column":132}},{"source":"../node_modules/string-width/index.js","original":{"line":9,"column":22},"generated":{"line":1,"column":135}},{"source":"../node_modules/string-width/index.js","name":"input","original":{"line":7,"column":1},"generated":{"line":1,"column":152}},{"source":"../node_modules/string-width/index.js","name":"input","original":{"line":7,"column":9},"generated":{"line":1,"column":154}},{"source":"../node_modules/string-width/index.js","name":"replace","original":{"line":7,"column":15},"generated":{"line":1,"column":156}},{"source":"../node_modules/string-width/index.js","name":"emojiRegex","original":{"line":7,"column":23},"generated":{"line":1,"column":164}},{"source":"../node_modules/string-width/index.js","original":{"line":7,"column":35},"generated":{"line":1,"column":166}},{"source":"../node_modules/string-width/index.js","original":{"line":9,"column":51},"generated":{"line":1,"column":174}},{"source":"../node_modules/string-width/index.js","name":"input","original":{"line":9,"column":34},"generated":{"line":1,"column":178}},{"source":"../node_modules/string-width/index.js","name":"length","original":{"line":9,"column":40},"generated":{"line":1,"column":180}},{"source":"../node_modules/string-width/index.js","original":{"line":10,"column":2},"generated":{"line":1,"column":187}},{"source":"../node_modules/string-width/index.js","original":{"line":10,"column":9},"generated":{"line":1,"column":194}},{"source":"../node_modules/string-width/index.js","name":"input","original":{"line":13,"column":1},"generated":{"line":1,"column":196}},{"source":"../node_modules/string-width/index.js","name":"stripAnsi","original":{"line":13,"column":9},"generated":{"line":1,"column":198}},{"source":"../node_modules/string-width/index.js","name":"input","original":{"line":13,"column":19},"generated":{"line":1,"column":200}},{"source":"../node_modules/string-width/index.js","original":{"line":17,"column":1},"generated":{"line":1,"column":203}},{"source":"../node_modules/string-width/index.js","original":{"line":15,"column":1},"generated":{"line":1,"column":207}},{"source":"../node_modules/string-width/index.js","name":"width","original":{"line":15,"column":5},"generated":{"line":1,"column":211}},{"source":"../node_modules/string-width/index.js","original":{"line":15,"column":13},"generated":{"line":1,"column":213}},{"source":"../node_modules/string-width/index.js","name":"i","original":{"line":17,"column":10},"generated":{"line":1,"column":215}},{"source":"../node_modules/string-width/index.js","original":{"line":17,"column":14},"generated":{"line":1,"column":217}},{"source":"../node_modules/string-width/index.js","name":"i","original":{"line":17,"column":17},"generated":{"line":1,"column":219}},{"source":"../node_modules/string-width/index.js","name":"input","original":{"line":17,"column":21},"generated":{"line":1,"column":221}},{"source":"../node_modules/string-width/index.js","name":"length","original":{"line":17,"column":27},"generated":{"line":1,"column":223}},{"source":"../node_modules/string-width/index.js","name":"i","original":{"line":17,"column":35},"generated":{"line":1,"column":230}},{"source":"../node_modules/string-width/index.js","original":{"line":17,"column":40},"generated":{"line":1,"column":234}},{"source":"../node_modules/string-width/index.js","original":{"line":18,"column":2},"generated":{"line":1,"column":235}},{"source":"../node_modules/string-width/index.js","name":"code","original":{"line":18,"column":8},"generated":{"line":1,"column":239}},{"source":"../node_modules/string-width/index.js","name":"input","original":{"line":18,"column":15},"generated":{"line":1,"column":241}},{"source":"../node_modules/string-width/index.js","name":"codePointAt","original":{"line":18,"column":21},"generated":{"line":1,"column":243}},{"source":"../node_modules/string-width/index.js","name":"i","original":{"line":18,"column":33},"generated":{"line":1,"column":255}},{"source":"../node_modules/string-width/index.js","name":"code","original":{"line":21,"column":6},"generated":{"line":1,"column":258}},{"source":"../node_modules/string-width/index.js","original":{"line":21,"column":14},"generated":{"line":1,"column":261}},{"source":"../node_modules/string-width/index.js","name":"code","original":{"line":21,"column":23},"generated":{"line":1,"column":265}},{"source":"../node_modules/string-width/index.js","original":{"line":21,"column":31},"generated":{"line":1,"column":268}},{"source":"../node_modules/string-width/index.js","name":"code","original":{"line":21,"column":39},"generated":{"line":1,"column":273}},{"source":"../node_modules/string-width/index.js","original":{"line":21,"column":47},"generated":{"line":1,"column":276}},{"source":"../node_modules/string-width/index.js","name":"code","original":{"line":26,"column":6},"generated":{"line":1,"column":282}},{"source":"../node_modules/string-width/index.js","original":{"line":26,"column":14},"generated":{"line":1,"column":285}},{"source":"../node_modules/string-width/index.js","name":"code","original":{"line":26,"column":23},"generated":{"line":1,"column":290}},{"source":"../node_modules/string-width/index.js","original":{"line":26,"column":31},"generated":{"line":1,"column":293}},{"source":"../node_modules/string-width/index.js","name":"code","original":{"line":31,"column":6},"generated":{"line":1,"column":299}},{"source":"../node_modules/string-width/index.js","original":{"line":31,"column":13},"generated":{"line":1,"column":301}},{"source":"../node_modules/string-width/index.js","name":"i","original":{"line":32,"column":3},"generated":{"line":1,"column":308}},{"source":"../node_modules/string-width/index.js","name":"width","original":{"line":35,"column":2},"generated":{"line":1,"column":312}},{"source":"../node_modules/string-width/index.js","name":"isFullwidthCodePoint","original":{"line":35,"column":11},"generated":{"line":1,"column":315}},{"source":"../node_modules/string-width/index.js","name":"code","original":{"line":35,"column":32},"generated":{"line":1,"column":317}},{"source":"../node_modules/string-width/index.js","original":{"line":35,"column":40},"generated":{"line":1,"column":320}},{"source":"../node_modules/string-width/index.js","original":{"line":35,"column":44},"generated":{"line":1,"column":322}},{"source":"../node_modules/string-width/index.js","original":{"line":38,"column":1},"generated":{"line":1,"column":326}},{"source":"../node_modules/string-width/index.js","name":"width","original":{"line":38,"column":8},"generated":{"line":1,"column":333}}],"sources":{"../node_modules/string-width/index.js":"'use strict';\nconst stripAnsi = require('strip-ansi');\nconst isFullwidthCodePoint = require('is-fullwidth-code-point');\nconst emojiRegex = require('emoji-regex')();\n\nmodule.exports = input => {\n\tinput = input.replace(emojiRegex, '  ');\n\n\tif (typeof input !== 'string' || input.length === 0) {\n\t\treturn 0;\n\t}\n\n\tinput = stripAnsi(input);\n\n\tlet width = 0;\n\n\tfor (let i = 0; i < input.length; i++) {\n\t\tconst code = input.codePointAt(i);\n\n\t\t// Ignore control characters\n\t\tif (code <= 0x1F || (code >= 0x7F && code <= 0x9F)) {\n\t\t\tcontinue;\n\t\t}\n\n\t\t// Ignore combining characters\n\t\tif (code >= 0x300 && code <= 0x36F) {\n\t\t\tcontinue;\n\t\t}\n\n\t\t// Surrogates\n\t\tif (code > 0xFFFF) {\n\t\t\ti++;\n\t\t}\n\n\t\twidth += isFullwidthCodePoint(code) ? 2 : 1;\n\t}\n\n\treturn width;\n};\n"},"lineCount":null}},"error":null,"hash":"e7ea4637b8d96e4c04415d1fabd95e92","cacheData":{"env":{}}}